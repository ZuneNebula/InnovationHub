"use strict";(self.webpackChunkoauth=self.webpackChunkoauth||[]).push([[849],{3849:(te,S,p)=>{p.r(S),p.d(S,{ExpertsModule:()=>Wt});var m=p(9808),O=p(5113),z=p(4004),Q=p(3151),_=p(8966),t=p(5e3),A=p(5830),y=p(2313),T=p(1863),q=p(5005),P=p(3251),F=p(7238),g=p(6688),Z=p(7423),s=p(3075),d=p(7322),C=p(7531),x=p(3874),w=p(2729),N=p(4834);let U=(()=>{class i{transform(e,o){if(e){var n=Math.floor((+new Date-+new Date(e))/1e3),a=n/31536e3;return a>1?Math.floor(a)+" years":(a=n/2592e3)>1?Math.floor(a)+" months":(a=n/86400)>1?Math.floor(a)+"d ago":(a=n/3600)>1?Math.floor(a)+"h ago":(a=n/60)>1?Math.floor(a)+"m ago":Math.floor(n)+1+"s ago"}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=t.Yjl({name:"dateAgoExpert",type:i,pure:!0}),i})();function R(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-chip",35),t.TgZ(1,"mat-icon",36),t._uU(2,"file_present"),t.qZA(),t._uU(3),t.TgZ(4,"button",37),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().viewdoc(a.content)}),t.TgZ(5,"a",38),t.TgZ(6,"mat-icon",39),t._uU(7,"download"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=r.$implicit,o=t.oxw();t.xp6(3),t.hij("",e.fileName," "),t.xp6(2),t.hYB("download","",e.fileName,".",e.extension,""),t.Q6J("href",o.fileUrl,t.LSH)}}function $(i,r){if(1&i&&(t.TgZ(0,"div",40),t._UZ(1,"img",41),t.TgZ(2,"span",42),t._uU(3),t.qZA(),t.TgZ(4,"span",43),t._uU(5),t.ALo(6,"dateAgoExpert"),t.qZA(),t._UZ(7,"br"),t.TgZ(8,"span",44),t._uU(9),t.qZA(),t._UZ(10,"mat-divider"),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.s9C("src",e.avatarUrl,t.LSH),t.xp6(2),t.hij("",e.commentator," "),t.xp6(2),t.Oqu(t.lcZ(6,4,e.commentDate)),t.xp6(4),t.Oqu(e.content)}}const X=function(i,r){return{green:i,red:r}};let J=(()=>{class i{constructor(e,o,n,a,l){this.apiService=e,this.data=o,this.sanitizer=n,this.service=a,this.cookies=l,this.buttonFlag=!1,this.allPrivateComments=[],this.proposalToBeEdited={proposalId:"",expertId:"",innovationId:"",proposalTitle:"",proposalDescription:"",expertName:"",statusOfProposal:"",domain:"",rating:0,dateOfCreation:new Date,coverImage:{content:"",fileName:"",extension:"",fileType:""},attachment:[],privateComments:[]},this.innovation={},this.a={fileName:"",extension:"",content:"",fileType:""},this.b={fileName:"",extension:"",content:"",fileType:""},this.idToBeDeleted=10,this.image=!1,this.doc=!1,this.commentObj={commentator:null,content:null,commentDate:null,avatarUrl:null},this.comment=""}changeContent(){this.buttonFlag=!this.buttonFlag,this.displayTextOnButton()}displayTextOnButton(){this.buttonFlag?(this.buttonText="Display Proposal",this.headerText="Private Comments"):(this.buttonText="Private Comments",this.headerText="Proposal Details")}ngOnInit(){this.displayTextOnButton(),this.apiService.getProposalById(this.data.proposalId).subscribe(o=>{this.proposalToBeEdited=o,this.innovationIdFromProposal=o.innovationId,this.service.getInnovationById(this.innovationIdFromProposal).subscribe(a=>{this.innovation=a})}),this.cookieValue=this.cookies.login()}onChange(e,o){this.a.fileType=o;let n=e.target.files[0];this.a.fileName=n.name.split(".")[0],this.a.extension=n.name.split(".")[1];let a=new FileReader;a.readAsDataURL(n),a.onload=()=>{this.contentData=a.result,this.a.content=this.contentData,this.proposalToBeEdited.coverImage=this.a}}onChangeDoc(e,o){this.b.fileType=o;let n=e.target.files[0];this.b.fileName=n.name.split(".")[0],this.b.extension=n.name.split(".")[1];let a=new FileReader;a.readAsDataURL(n),a.onload=()=>{this.contentData=a.result,this.b.content=this.contentData,this.proposalToBeEdited.attachment.push(this.b)}}update(){this.apiService.updateProposal(this.proposalToBeEdited).subscribe(o=>{}),window.location.reload()}delete(){this.apiService.deleteProposalById(this.data.proposalId).subscribe(o=>{this.proposalToBeDeleted=o}),window.location.reload()}viewdoc(e){this.str=e;const o=atob(this.str.substring(this.str.indexOf(",")+1)),n=new Blob([o],{type:"application/octet-stream"});this.fileUrl=this.sanitizer.bypassSecurityTrustResourceUrl(window.URL.createObjectURL(n))}imageClicked(){this.image=!0}docClicked(){this.doc=!0}addComment(){this.commentObj.content=this.comment,this.commentObj.commentDate=new Date,this.commentObj.commentator=this.cookieValue.firstName+" "+this.cookieValue.lastName,this.commentObj.avatarUrl=this.cookieValue.avatarUrl;const e=[...this.proposalToBeEdited.privateComments];e.push(Object.assign({},this.commentObj)),this.proposalToBeEdited.privateComments=[...e],this.apiService.updateProposal(this.proposalToBeEdited).subscribe(n=>{}),this.comment=""}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(A.s),t.Y36(_.WI),t.Y36(y.H7),t.Y36(T.N),t.Y36(q.F))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-dialog"]],decls:60,vars:17,consts:[[2,"width","800px","height","550px","padding","0"],["color","accent",2,"width","150%","margin-top","-3%","margin-left","-3%"],["label","Proposal Details"],[2,"margin-left","3%"],[2,"float","right","width","60%","margin-top","2%"],[2,"font-weight","700","text-align","center"],[2,"height","80px","width","400px","margin-left","50px"],["matTooltip","description"],[2,"float","left","width","40%","margin-left","50px"],[2,"margin-bottom","0"],[2,"color","purple","font-weight","500"],[2,"float","right","width","40%","margin-right","20px"],[2,"margin-bottom","0","margin-left","20px"],[2,"color","white","font-weight","500","text-align","center","margin-left","20px",3,"ngClass"],[2,"margin-top","12px","text-align","center","margin-bottom","0"],[2,"color","purple","font-weight","500","margin-left","22px"],[2,"clear","both"],[2,"width","80%"],[2,"font-weight","500","margin-left","150px"],["aria-label","doc selection",2,"float","left","margin-left","5%"],["chipList",""],["style","background-color: white;border: 1px rgb(25, 71, 31) solid;",4,"ngFor","ngForOf"],["onerror","this.src='assets/default.png'","alt","proposal image",2,"margin-top","40px","height","400px","width","300px","box-shadow","5px 10px 18px gray",3,"src"],["color","accent","mat-dialog-close","","mat-raised-button","",2,"float","right"],["label","Connect with Innovator"],[2,"margin-left","5%"],["alt","avatar",2,"border-radius","50%","height","50px","margin-top","20px","margin-left","20px",3,"src"],[1,"example-form"],[2,"float","left","margin-top","-50px","margin-left","85px","width","75%"],["matInput","","name","comment","placeholder","Add a Comment...",3,"ngModel","ngModelChange"],["mat-icon-button","",2,"float","right","margin-top","-57px","margin-right","70px",3,"click"],[2,"margin-left","2%","margin-right","4%","width","88%"],["itemSize","72",1,"container"],["style","background-color: rgb(253, 253, 209);padding-top: 1%;padding-left: 1%;","class","number",4,"cdkVirtualFor","cdkVirtualForOf"],["color","accent","mat-dialog-close","","mat-raised-button","",2,"float","right","margin-right","0%"],[2,"background-color","white","border","1px rgb(25, 71, 31) solid"],[2,"margin-right","4px"],["mat-button","",2,"margin-left","-12px",3,"click"],[2,"text-decoration","none","color","black",3,"href","download"],[2,"vertical-align","middle","padding-right","-15px"],[1,"number",2,"background-color","rgb(253, 253, 209)","padding-top","1%","padding-left","1%"],["alt","avatar",2,"border-radius","50%","height","30px","float","left",3,"src"],[2,"margin-left","10px","font-weight","600","float","left"],[2,"color","gray","margin-left","10px"],[2,"margin-left","10px","font-weight","400"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-tab-group",1),t.TgZ(2,"mat-tab",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"h1",5),t._uU(6),t.qZA(),t.TgZ(7,"div",6),t.TgZ(8,"p",7),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"div",8),t.TgZ(11,"h2",9),t._uU(12,"Created"),t.qZA(),t.TgZ(13,"h3",10),t._uU(14),t.ALo(15,"dateAgoExpert"),t.qZA(),t.TgZ(16,"h2",9),t._uU(17,"Documents uploaded"),t.qZA(),t.TgZ(18,"h3",10),t._uU(19),t.qZA(),t.qZA(),t.TgZ(20,"div",11),t.TgZ(21,"h2",12),t._uU(22,"Status"),t.qZA(),t.TgZ(23,"mat-chip-list"),t.TgZ(24,"mat-chip",13),t._uU(25),t.qZA(),t.qZA(),t.TgZ(26,"h2",14),t._uU(27,"Innovation Name"),t.qZA(),t.TgZ(28,"h3",15),t._uU(29),t.qZA(),t.qZA(),t._UZ(30,"br",16),t.TgZ(31,"div"),t._UZ(32,"hr",17),t.TgZ(33,"h2",18),t._uU(34,"Attached Documents"),t.qZA(),t.TgZ(35,"mat-chip-list",19,20),t.YNc(37,R,8,4,"mat-chip",21),t.qZA(),t.qZA(),t.qZA(),t._UZ(38,"img",22),t.TgZ(39,"button",23),t._uU(40,"CLOSE"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(41,"mat-tab",24),t.TgZ(42,"div",25),t.TgZ(43,"div"),t.TgZ(44,"div"),t._UZ(45,"img",26),t.TgZ(46,"form",27),t.TgZ(47,"mat-form-field",28),t.TgZ(48,"input",29),t.NdJ("ngModelChange",function(a){return o.comment=a}),t.qZA(),t.qZA(),t.TgZ(49,"button",30),t.NdJ("click",function(){return o.addComment()}),t.TgZ(50,"mat-icon"),t._uU(51,"send"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(52,"br"),t.TgZ(53,"div",31),t.TgZ(54,"cdk-virtual-scroll-viewport",32),t.YNc(55,$,11,6,"div",33),t.qZA(),t.qZA(),t.qZA(),t._UZ(56,"br"),t.TgZ(57,"div"),t.TgZ(58,"button",34),t._uU(59,"CLOSE"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(6),t.Oqu(o.proposalToBeEdited.proposalTitle),t.xp6(3),t.Oqu(o.proposalToBeEdited.proposalDescription),t.xp6(5),t.Oqu(t.lcZ(15,12,o.proposalToBeEdited.dateOfCreation)),t.xp6(5),t.hij("",o.proposalToBeEdited.attachment.length," files"),t.xp6(5),t.Q6J("ngClass",t.WLB(14,X,"accepted"==o.proposalToBeEdited.statusOfProposal,"pending"==o.proposalToBeEdited.statusOfProposal)),t.xp6(1),t.hij(" ",o.proposalToBeEdited.statusOfProposal,""),t.xp6(4),t.Oqu(o.innovation.innovationName),t.xp6(8),t.Q6J("ngForOf",o.proposalToBeEdited.attachment),t.xp6(1),t.s9C("src",o.proposalToBeEdited.coverImage.content,t.LSH),t.xp6(7),t.s9C("src",o.cookieValue.avatarUrl,t.LSH),t.xp6(3),t.Q6J("ngModel",o.comment),t.xp6(7),t.Q6J("cdkVirtualForOf",o.proposalToBeEdited.privateComments.reverse()))},directives:[P.SP,P.uX,F.gM,g.qn,g.HS,m.mk,m.sg,Z.lW,_.ZT,s._Y,s.JL,s.F,d.KE,C.Nt,s.Fj,s.JJ,s.On,x.Hw,w.N7,w.xd,w.x0,N.d],pipes:[U],styles:[".green[_ngcontent-%COMP%]{background-color:green}.red[_ngcontent-%COMP%]{background-color:red}h2[_ngcontent-%COMP%]{color:#4b4b4b}.main[_ngcontent-%COMP%]{margin:1% 20% 5%}.cover-image[_ngcontent-%COMP%]{float:right;margin-top:-8%;padding-right:0%;padding-top:20px}.comments-section[_ngcontent-%COMP%]{padding-left:1%;padding-right:1%}.actions[_ngcontent-%COMP%]{justify-content:flex-end;display:flex}.inner[_ngcontent-%COMP%]{width:95%}.container[_ngcontent-%COMP%]{height:330px}.number[_ngcontent-%COMP%]{height:72}"]}),i})();var B=p(265),u=p(1083),V=p(7751),E=p(7261),k=p(2638),Y=p(4594),M=p(4623),v=p(2181),j=p(7544),c=p(9224);function K(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){return t.CHM(e),t.oxw(),t.MAs(2).toggle()}),t.TgZ(1,"mat-icon",26),t._uU(2,"menu"),t.qZA(),t.qZA()}}function G(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-list"),t.TgZ(1,"mat-card"),t.TgZ(2,"mat-card-content"),t.TgZ(3,"h4"),t.TgZ(4,"strong"),t._uU(5),t.qZA(),t._uU(6),t.qZA(),t.TgZ(7,"h4"),t.TgZ(8,"strong"),t._uU(9),t.qZA(),t._uU(10," for innovation "),t.TgZ(11,"strong"),t._uU(12),t.qZA(),t.qZA(),t.TgZ(13,"mat-card-subtitle"),t._uU(14),t.ALo(15,"dateAgoExpert"),t.qZA(),t.qZA(),t.TgZ(16,"mat-card-actions"),t.TgZ(17,"button",27),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().markRead(a.notif)}),t._uU(18,"MARK AS READ"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=r.$implicit;t.xp6(5),t.Oqu(e.innoFirstName),t.xp6(1),t.hij(" has ",e.notif.notificationData.subject," your proposal"),t.xp6(3),t.Oqu(e.innoProposalTitle),t.xp6(3),t.Oqu(e.innoInnoName),t.xp6(2),t.Oqu(t.lcZ(15,5,e.innoDate))}}function W(i,r){1&i&&(t.TgZ(0,"div"),t.TgZ(1,"div",28),t._uU(2," No Notifications "),t.qZA(),t.qZA())}let tt=(()=>{class i{constructor(e,o,n,a,l,h,f,b){this.breakpointObserver=e,this.cookies=o,this.router=n,this.serverService=a,this.modalService=l,this.apiService=h,this.dialog=f,this.snackbar=b,this.domains=["health","technology","environment","society"],this.proposalsByDomain=[],this.filterApplied=!1,this.isHandset$=this.breakpointObserver.observe(O.u3.Handset).pipe((0,z.U)(D=>D.matches),(0,Q.d)()),this.proposals=[],this.innovatorNames=[],this.proposalNames=[],this.innovationNames=[],this.notificationMessage=[],this.notificationObjArray=[],this.status=[],this.horizontalPosition="right",this.verticalPosition="bottom"}selectDomain(e){this.filterApplied=!0,this.apiService.getProposalsByDomain(e).subscribe(n=>{this.proposalsByDomain=n})}logout(){this.cookies.isExpertLoggedIn=!1}openProfile(){this.router.navigateByUrl("/experts/profile")}ngOnInit(){this.cookies.getAuth||(this.logout(),this.router.navigateByUrl("/")),this.cookieValue=this.cookies.login(),this.serverService.getExpert(this.cookieValue.expertId).subscribe(e=>{1==e.specialization.length&&e.specialization.includes("Any")&&this.openSnackBar()}),this.getNotificationsData()}ngOnChanges(){this.cookies.getAuth||(this.logout(),this.router.navigateByUrl("/")),this.getNotificationsData()}viewProposalById(e){this.dialog.open(J,{data:{proposalId:e}})}delete(e){this.apiService.deleteProposalById(e).subscribe(n=>{this.proposalToBeDeleted=n}),window.location.reload()}getNotificationsData(){this.serverService.getProposalStatusNotification(this.cookieValue.expertId).subscribe(e=>{B.UI(e,(o,n)=>{console.log("notf data"),console.log(o.notificationData.subject),B.AN([a=>{this.serverService.getInnovator(o.sourceId).subscribe(l=>{a(null,o.notificationData.subject,l)})},(a,l,h)=>{this.serverService.getInnovationById(o.innovationId).subscribe(f=>{h(null,a,l,f)})},(a,l,h,f)=>{this.apiService.getProposalById(o.proposalId).subscribe(b=>{f(null,{statusData:a,expertData:l,innovatorData:h,proposalData:b})})}],(a,{statusData:l,expertData:h,innovatorData:f,proposalData:b})=>{a?n(a):n(null,{innoDate:o.date,innoFirstName:h.firstName,innoInnoName:f.innovationName,innoProposalTitle:b.proposalTitle,innoInnovationId:b.innovationId,status:l,notif:o})})},(o,n)=>{o?console.log("Error",o):this.notificationObjArray=[...n]})})}markRead(e){e.status="Read",this.serverService.updateNotifications(e).subscribe(o=>{this.notificationObjArray=[],this.getNotificationsData()})}openSnackBar(){this.snackbar.open('Your specialization is set to "Any" by default. Please change your profile to filter innovations by domain',"Close",{horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition})}landingPage(){this.router.navigateByUrl("/experts")}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(O.Yg),t.Y36(q.F),t.Y36(u.F0),t.Y36(T.N),t.Y36(V.FF),t.Y36(A.s),t.Y36(_.uw),t.Y36(E.ux))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-experts-dashboard"]],features:[t.TTD],decls:43,vars:15,consts:[[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["drawer",""],["mat-list-item","","routerLink","find",3,"click"],[2,"color","black","margin-right","10px"],["mat-list-item","","routerLink","/experts/",3,"click"],[1,"home-gradient"],["color","accent"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click",4,"ngIf"],["mat-button","",2,"font-size","larger",3,"click"],[1,"fill-space"],["aria-label","Fruit selection"],["chipLists",""],["mat-button","",2,"display","inline-block",3,"matMenuTriggerFor"],["matBadgeColor","warn",3,"matBadge"],["mat-button","",3,"matMenuTriggerFor"],["id","avatars","mat-card-image","",3,"src"],[2,"margin-left","5px","color","black"],["xPosition","before"],["menu2","matMenu"],[4,"ngFor","ngForOf"],[4,"ngIf"],["menu","matMenu"],["mat-menu-item","","routerLink","/experts/profile"],["mat-menu-item","","click","logout()","href","/userservice/api/v1/authorize/logout"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"],["mat-button","",3,"click"],["mat-menu-item",""]],template:function(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"mat-sidenav-container",0),t.TgZ(1,"mat-sidenav",1,2),t.ALo(3,"async"),t.ALo(4,"async"),t._UZ(5,"mat-toolbar"),t.TgZ(6,"mat-nav-list"),t.TgZ(7,"a",3),t.NdJ("click",function(){return t.CHM(n),t.MAs(2).close()}),t.TgZ(8,"mat-icon",4),t._uU(9,"view_list"),t.qZA(),t._uU(10,"Find Innovations"),t.qZA(),t.TgZ(11,"a",5),t.NdJ("click",function(){return t.CHM(n),t.MAs(2).close()}),t.TgZ(12,"mat-icon",4),t._uU(13,"dashboard"),t.qZA(),t._uU(14,"Proposals"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"mat-sidenav-content",6),t.TgZ(16,"mat-toolbar",7),t.YNc(17,K,3,0,"button",8),t.TgZ(18,"button",9),t.NdJ("click",function(){return o.landingPage()}),t._uU(19,"InnovationHub"),t.qZA(),t._UZ(20,"span",10),t.TgZ(21,"div"),t.TgZ(22,"mat-chip-list",11,12),t.TgZ(24,"button",13),t.TgZ(25,"mat-icon",14),t._uU(26,"notifications"),t.qZA(),t.qZA(),t.TgZ(27,"mat-chip"),t.TgZ(28,"button",15),t._UZ(29,"img",16),t.TgZ(30,"span",17),t._uU(31),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(32,"mat-menu",18,19),t.YNc(34,G,19,7,"mat-list",20),t.YNc(35,W,3,0,"div",21),t.qZA(),t.TgZ(36,"mat-menu",null,22),t.TgZ(38,"button",23),t._uU(39,"Profile"),t.qZA(),t.TgZ(40,"a",24),t._uU(41,"Sign Out"),t.qZA(),t.qZA(),t.qZA(),t._UZ(42,"router-outlet"),t.qZA(),t.qZA()}if(2&e){const n=t.MAs(33),a=t.MAs(37);t.xp6(1),t.Q6J("mode","over")("opened",!0===t.lcZ(4,13,o.isHandset$)),t.uIk("role",t.lcZ(3,11,o.isHandset$)?"dialog":"navigation"),t.xp6(16),t.Q6J("ngIf",o.isHandset$),t.xp6(7),t.Q6J("matMenuTriggerFor",n),t.xp6(1),t.s9C("matBadge",o.notificationObjArray.length),t.xp6(3),t.Q6J("matMenuTriggerFor",a),t.xp6(1),t.s9C("src",o.cookieValue.avatarUrl,t.LSH),t.xp6(2),t.Oqu(o.cookieValue.firstName),t.xp6(3),t.Q6J("ngForOf",o.notificationObjArray.reverse()),t.xp6(1),t.Q6J("ngIf",0==o.notificationObjArray.length)}},directives:[k.TM,k.JX,Y.Ye,M.Hk,M.Tg,u.yS,x.Hw,k.Rh,m.O5,Z.lW,g.qn,v.p6,j.k,g.HS,c.G2,v.VK,m.sg,v.OP,u.rH,u.lC,M.i$,c.a8,c.dn,c.$j,c.hq],pipes:[m.Ov,U],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}.fill-space[_ngcontent-%COMP%]{flex:1 1 auto}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{background:#081ab6;color:#fff}a[_ngcontent-%COMP%]{text-decoration:none;color:#f5f0f0}.mat-toolbar[_ngcontent-%COMP%]{height:50px}span[_ngcontent-%COMP%], .mat-icon[_ngcontent-%COMP%], #new[_ngcontent-%COMP%]{color:#fff}#searchbar[_ngcontent-%COMP%]{margin-top:12px;width:30%;margin-left:30%;height:26px}#avatars[_ngcontent-%COMP%]{height:30px;width:30px;position:fixed;border-radius:18px;margin-top:3px;margin-left:-27px}.avatar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:20px}.home-gradient[_ngcontent-%COMP%]{background-color:#fff}a[_ngcontent-%COMP%]{color:#000}mat-card-content[_ngcontent-%COMP%]{margin-bottom:0}mat-card-actions[_ngcontent-%COMP%]{overflow:hidden}mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right}"]}),i})();var L=p(1159),H=p(4107),et=p(508);function ot(i,r){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," First Name is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA(),t.qZA())}function it(i,r){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Last Name is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA(),t.qZA())}function nt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-chip",28),t.NdJ("removed",function(){const a=t.CHM(e).index;return t.oxw(2).remove(a)}),t._uU(1),t.TgZ(2,"button",29),t.TgZ(3,"mat-icon"),t._uU(4,"cancel"),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",e," ")}}function at(i,r){if(1&i&&(t.TgZ(0,"mat-option",30),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.name),t.xp6(1),t.hij(" ",e.name," ")}}function rt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-chip",28),t.NdJ("removed",function(){const a=t.CHM(e).index;return t.oxw(2).removeTag(a)}),t._uU(1),t.TgZ(2,"button",29),t.TgZ(3,"mat-icon"),t._uU(4,"cancel"),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",e," ")}}function st(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"form",2),t.NdJ("ngSubmit",function(){return t.CHM(e),t.oxw().onSubmit()}),t.TgZ(1,"mat-card",3),t.TgZ(2,"mat-card-header"),t.TgZ(3,"mat-card-title"),t._uU(4),t.qZA(),t.qZA(),t.TgZ(5,"mat-card-content",4),t.TgZ(6,"mat-form-field",5),t.TgZ(7,"mat-label",6),t._uU(8,"Username"),t.qZA(),t._UZ(9,"input",7),t.qZA(),t.TgZ(10,"div"),t.TgZ(11,"h3"),t._uU(12,"Avatar"),t.qZA(),t._UZ(13,"img",8),t.qZA(),t.TgZ(14,"mat-form-field",5),t.TgZ(15,"mat-label",9),t._uU(16,"Avatar URL"),t.qZA(),t._UZ(17,"input",10),t.qZA(),t.TgZ(18,"mat-form-field",5),t.TgZ(19,"mat-label",11),t._uU(20,"First Name"),t.qZA(),t._UZ(21,"input",12),t.YNc(22,ot,4,0,"mat-error",13),t.qZA(),t.TgZ(23,"mat-form-field",5),t.TgZ(24,"mat-label",14),t._uU(25,"Last Name"),t.qZA(),t._UZ(26,"input",15),t.YNc(27,it,4,0,"mat-error",13),t.qZA(),t.TgZ(28,"mat-form-field",5),t.TgZ(29,"mat-label",16),t._uU(30,"Email"),t.qZA(),t._UZ(31,"input",17),t.qZA(),t.TgZ(32,"mat-form-field",5),t.TgZ(33,"mat-label",18),t._uU(34,"Occupation"),t.qZA(),t._UZ(35,"input",19),t.qZA(),t.TgZ(36,"mat-chip-list",null,20),t.YNc(38,nt,5,1,"mat-chip",21),t.qZA(),t.TgZ(39,"mat-form-field",5),t.TgZ(40,"mat-select",22),t.NdJ("selectionChange",function(n){return t.CHM(e),t.oxw().onChange(n)}),t.YNc(41,at,2,2,"mat-option",23),t.qZA(),t.qZA(),t.TgZ(42,"mat-form-field",5),t.TgZ(43,"mat-label"),t._uU(44,"Tags"),t.qZA(),t.TgZ(45,"mat-chip-list",null,24),t.YNc(47,rt,5,1,"mat-chip",21),t.TgZ(48,"input",25),t.NdJ("matChipInputTokenEnd",function(n){return t.CHM(e),t.oxw().add(n)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(49,"mat-card-actions"),t.TgZ(50,"button",26),t._uU(51,"Submit"),t.qZA(),t.TgZ(52,"button",27),t.NdJ("click",function(){return t.CHM(e),t.oxw().cancel()}),t._uU(53,"Cancel"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.MAs(46),o=t.oxw();t.Q6J("formGroup",o.expertForm),t.xp6(4),t.hij("Edit ",o.expertValue.firstName,"'s Profile"),t.xp6(9),t.s9C("src",o.expertValue.avatarUrl,t.LSH),t.xp6(9),t.Q6J("ngIf",o.expertForm.controls.firstName.hasError("required")),t.xp6(5),t.Q6J("ngIf",o.expertForm.controls.lastName.hasError("required")),t.xp6(11),t.Q6J("ngForOf",o.expertValue.specialization),t.xp6(3),t.Q6J("ngForOf",o.domains),t.xp6(6),t.Q6J("ngForOf",o.expertValue.tags),t.xp6(1),t.Q6J("matChipInputFor",e)("matChipInputSeparatorKeyCodes",o.separatorKeysCodes)("matChipInputAddOnBlur",o.addOnBlur),t.xp6(2),t.Q6J("disabled",!o.expertForm.valid)}}function lt(i,r){if(1&i&&(t.TgZ(0,"h2"),t._uU(1,"Occupation : "),t.TgZ(2,"span"),t.TgZ(3,"h3"),t._uU(4),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(4),t.Oqu(e.expertValue.occupation)}}function pt(i,r){1&i&&(t.TgZ(0,"h2"),t._uU(1,"Specialization"),t.qZA())}function ct(i,r){if(1&i&&(t.TgZ(0,"mat-chip"),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",e," ")}}function mt(i,r){1&i&&(t.TgZ(0,"h2"),t._uU(1,"Tags"),t.qZA())}function gt(i,r){if(1&i&&(t.TgZ(0,"mat-chip"),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",e," ")}}function dt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",31),t.TgZ(1,"mat-card",3),t.TgZ(2,"mat-card-header"),t.TgZ(3,"mat-card-title",32),t.NdJ("click",function(){return t.CHM(e),t.oxw().test()}),t._uU(4),t.qZA(),t.qZA(),t.TgZ(5,"mat-card-content",4),t.TgZ(6,"div",33),t._UZ(7,"img",34),t.qZA(),t.TgZ(8,"div",35),t.TgZ(9,"div",36),t.TgZ(10,"h1"),t._uU(11,"User Details"),t.qZA(),t._UZ(12,"hr"),t.TgZ(13,"h2"),t.TgZ(14,"mat-icon"),t._uU(15,"account_circle"),t.qZA(),t.TgZ(16,"span"),t.TgZ(17,"h3"),t._uU(18),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"h2"),t.TgZ(20,"mat-icon"),t._uU(21,"email"),t.qZA(),t.TgZ(22,"span"),t.TgZ(23,"h3"),t._uU(24),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"div",37),t.TgZ(26,"h1"),t._uU(27,"Professional Details"),t.qZA(),t._UZ(28,"hr"),t.YNc(29,lt,5,1,"h2",13),t.YNc(30,pt,2,0,"h2",13),t.TgZ(31,"mat-chip-list",null,20),t.YNc(33,ct,2,1,"mat-chip",38),t.qZA(),t.YNc(34,mt,2,0,"h2",13),t.TgZ(35,"mat-chip-list",null,20),t.YNc(37,gt,2,1,"mat-chip",38),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(38,"mat-card-actions"),t.TgZ(39,"button",39),t.NdJ("click",function(){return t.CHM(e),t.oxw().edit()}),t._uU(40," Edit Profile "),t.qZA(),t.TgZ(41,"button",40),t.NdJ("click",function(){return t.CHM(e),t.oxw().close()}),t._uU(42," Close "),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(4),t.hij("View ",e.expertValue.firstName,"'s Profile"),t.xp6(3),t.s9C("src",e.expertValue.avatarUrl,t.LSH),t.xp6(11),t.AsE(": ",e.expertValue.firstName," ",e.expertValue.lastName,""),t.xp6(6),t.hij(": ",e.expertValue.email,""),t.xp6(5),t.Q6J("ngIf",e.expertValue.occupation),t.xp6(1),t.Q6J("ngIf",e.expertValue.specialization.length),t.xp6(3),t.Q6J("ngForOf",e.expertValue.specialization),t.xp6(1),t.Q6J("ngIf",null==e.expertValue.tags?null:e.expertValue.tags.length),t.xp6(3),t.Q6J("ngForOf",e.expertValue.tags)}}let ht=(()=>{class i{constructor(e,o,n,a){this.cookies=e,this.serverService=o,this.router=n,this.fb=a,this.expertValue={expertId:"",username:"",firstName:"",lastName:"",avatarUrl:"",email:"",occupation:"",updatedBy:"",updatedOn:new Date,tags:[],specialization:[],rating:0},this.expertForm=this.fb.group({expertId:[{value:"",disabled:!0},s.kI.required],username:[{value:"",disabled:!0},s.kI.required],avatarUrl:[{value:""},s.kI.required],firstName:[{value:""},s.kI.required],lastName:[{value:""},s.kI.required],email:[{value:"",disabled:!0},s.kI.required],occupation:[{value:""}],updatedBy:[{value:"",disabled:!0}],updatedOn:[{value:"",disabled:!0}],specialization:[{value:[]}],tags:[],rating:[{value:0,disabled:!0}]}),this.domains=[{name:"Any"},{name:"Science & Technology"},{name:"Health Sciences"},{name:"Construction"},{name:"Management"},{name:"Environment"},{name:"Power & Energy"},{name:"Society"},{name:"Food"},{name:"Education"},{name:"E-Commerce"},{name:"Other"}],this.isEditing=!1,this.addOnBlur=!0,this.separatorKeysCodes=[L.K5,L.OC]}onChange(e){this.expertValue.specialization.push(e.value),this.expertForm.controls.specialization.reset()}remove(e){this.expertValue.specialization.splice(e,1)}ngOnInit(){this.cookieValue=this.cookies.login(),this.serverService.getExpert(this.cookieValue.expertId).subscribe(e=>{this.expertValue=e,this.expertForm.patchValue(e)})}ngOnChanges(){this.serverService.getExpert(this.cookieValue.expertId).subscribe(e=>{this.expertValue=e,this.expertForm.patchValue(e)})}onSubmit(){var e,o,n,a;this.expertValue.firstName=null===(e=this.expertForm.get("firstName"))||void 0===e?void 0:e.value,this.expertValue.lastName=null===(o=this.expertForm.get("lastName"))||void 0===o?void 0:o.value,this.expertValue.occupation=null===(n=this.expertForm.get("occupation"))||void 0===n?void 0:n.value,this.expertValue.updatedBy=null===(a=this.expertForm.get("username"))||void 0===a?void 0:a.value,this.expertValue.updatedOn=new Date,0==this.expertValue.specialization.length&&this.expertValue.specialization.push(this.domains[0].name),this.serverService.updateExpert(this.expertValue).subscribe(l=>{}),this.isEditing=!1}test(){}edit(){this.isEditing=!0}cancel(){this.isEditing=!1}close(){this.router.navigateByUrl("experts")}add(e){var o;const n=(e.value||"").trim();n&&(null==this.expertValue.tags?(this.expertValue.tags=new Array(""),this.expertValue.tags[0]=n):null===(o=this.expertValue.tags)||void 0===o||o.push(n)),e.chipInput.clear()}removeTag(e){var o;null===(o=this.expertValue.tags)||void 0===o||o.splice(e,1)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(q.F),t.Y36(T.N),t.Y36(u.F0),t.Y36(s.qu))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-experts-profile"]],features:[t.TTD],decls:2,vars:2,consts:[["class","container","novalidate","",3,"formGroup","ngSubmit",4,"ngIf"],["class","container",4,"ngIf"],["novalidate","",1,"container",3,"formGroup","ngSubmit"],[1,"shipping-card"],[1,"mat-typography"],[1,"full-width"],["for","username"],["matInput","","type","text","id","username","name","username","formControlName","username",1,"form-control"],["mat-card-image","",1,"avatars",3,"src"],["for","avatarUrl"],["matInput","","type","text","id","avatarUrl","name","avatarUrl","formControlName","avatarUrl",1,"form-control"],["for","firstname"],["matInput","","type","text","id","firstname","name","firstname","formControlName","firstName",1,"form-control"],[4,"ngIf"],["for","lastname"],["matInput","","type","text","id","lastname","name","lastname","formControlName","lastName",1,"form-control"],["for","email"],["matInput","","type","email","id","email","name","email","formControlName","email",1,"form-control"],["for","occupation"],["matInput","","type","text","id","occupation","name","occupation","formControlName","occupation",1,"form-control"],["chipList",""],[3,"removed",4,"ngFor","ngForOf"],["placeholder","Specialization","formControlName","specialization",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["chipList2",""],["placeholder","New tag...",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-stroked-button","","type","button",3,"click"],[3,"removed"],["matChipRemove",""],[3,"value"],[1,"container"],[3,"click"],[1,"avatar-box"],["mat-card-image","",1,"avatars-view",3,"src"],[1,"layout"],[1,"box1"],[1,"box2"],[4,"ngFor","ngForOf"],["mat-raised-button","","type","button","color","primary",3,"click"],["mat-raised-button","","type","button",3,"click"]],template:function(e,o){1&e&&(t.YNc(0,st,54,12,"form",0),t.YNc(1,dt,43,10,"div",1)),2&e&&(t.Q6J("ngIf",o.isEditing),t.xp6(1),t.Q6J("ngIf",!o.isEditing))},directives:[m.O5,s._Y,s.JL,s.sg,c.a8,c.dk,c.n5,c.dn,d.KE,d.hX,C.Nt,s.Fj,s.JJ,s.u,c.G2,g.qn,m.sg,H.gD,g.oH,c.hq,Z.lW,d.TO,g.HS,g.qH,x.Hw,et.ey],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.shipping-card[_ngcontent-%COMP%]{min-width:120px;margin:20px auto}.col[_ngcontent-%COMP%]:last-child{margin-right:0}.tagbtn[_ngcontent-%COMP%]{margin-top:15px}.avatars[_ngcontent-%COMP%]{height:60px;width:60px;border-radius:36px;margin-left:10px;margin-top:5px;border:2px solid black}.avatars-view[_ngcontent-%COMP%]{height:240px;width:240px;border-radius:50%;border:2px solid black}.container[_ngcontent-%COMP%]{margin-left:5%;margin-right:5%}mat-card-actions[_ngcontent-%COMP%]{overflow:hidden}button[_ngcontent-%COMP%]{float:right}.avatar-box[_ngcontent-%COMP%]{padding-top:1%;text-align:center}.layout[_ngcontent-%COMP%]{display:flex}.box1[_ngcontent-%COMP%]{padding:2%;width:30%;margin-left:10%}.box2[_ngcontent-%COMP%]{padding:2%;width:70%;margin-left:10%}span[_ngcontent-%COMP%]{display:inline-block}mat-chip-list[_ngcontent-%COMP%]{display:block;padding-bottom:1%}.mat-icon[_ngcontent-%COMP%]{vertical-align:middle}"]}),i})();var I=p(773);function ut(i,r){1&i&&t._UZ(0,"mat-spinner")}function ft(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-chip",39),t.TgZ(1,"mat-icon",40),t._uU(2,"file_present"),t.qZA(),t._uU(3),t.TgZ(4,"button",41),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(2).viewdoc(a.content)}),t.TgZ(5,"a",42),t.TgZ(6,"mat-icon",43),t._uU(7,"download"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=r.$implicit,o=t.oxw(2);t.xp6(3),t.hij("",e.fileName," "),t.xp6(2),t.hYB("download","",e.fileName,".",e.extension,""),t.Q6J("href",o.fileUrl,t.LSH)}}function _t(i,r){if(1&i&&(t.TgZ(0,"div",30),t.TgZ(1,"div",31),t.TgZ(2,"h1",4),t._uU(3,"Innovation Details"),t.qZA(),t.qZA(),t.TgZ(4,"h1",32),t._uU(5),t.qZA(),t._UZ(6,"img",33),t._UZ(7,"br"),t.TgZ(8,"span",34),t._uU(9),t.qZA(),t._UZ(10,"br"),t._UZ(11,"br"),t.TgZ(12,"h1",35),t._uU(13," Description"),t.qZA(),t.TgZ(14,"p",36),t._uU(15),t.qZA(),t.TgZ(16,"h1",35),t._uU(17," Documents uploaded"),t.qZA(),t.TgZ(18,"mat-chip-list",37,26),t.YNc(20,ft,8,4,"mat-chip",38),t.qZA(),t._UZ(21,"br"),t.qZA()),2&i){const e=t.oxw();t.xp6(5),t.hij(" ",e.innovation.innovationName,""),t.xp6(1),t.s9C("src",e.innovation.coverPhoto.content,t.LSH),t.xp6(3),t.hij("Innovator: ",e.innovation.name,""),t.xp6(6),t.Oqu(e.innovation.innovationDesc),t.xp6(5),t.Q6J("ngForOf",e.innovation.uploadedFiles)}}function Zt(i,r){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Proposal Title is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA(),t.qZA())}function xt(i,r){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Description is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA(),t.qZA())}function vt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-chip",44),t.NdJ("removed",function(){return t.CHM(e),t.oxw().removeCoverImage()}),t._uU(1),t.TgZ(2,"mat-icon"),t._uU(3,"image"),t.qZA(),t.TgZ(4,"button",45),t.TgZ(5,"mat-icon"),t._uU(6,"cancel"),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(1),t.hij(" ",e.newProposalValue.coverImage.fileName,"")}}function bt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-chip",46),t.NdJ("removed",function(){const a=t.CHM(e).index;return t.oxw().remove(a)}),t._uU(1),t.TgZ(2,"mat-icon"),t._uU(3,"attach_file"),t.qZA(),t.TgZ(4,"button",45),t.TgZ(5,"mat-icon"),t._uU(6,"cancel"),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",e.fileName,"")}}let Tt=(()=>{class i{constructor(e,o,n,a,l,h,f,b){this.fb=e,this.cookie=o,this.server=n,this._snackBar=a,this.router=l,this.apiService=h,this.activatedRoute=f,this.sanitizer=b,this.newProposal=this.fb.group({proposalTitle:[null,s.kI.required],proposalDescription:["",s.kI.required],coverImage:[null],docFiles:[],fileTitle:""}),this.domains=[{name:"Science & Technology"},{name:"Health Sciences"},{name:"Construction"},{name:"Management"},{name:"Environment"},{name:"Power & Energy"},{name:"Society"},{name:"Food"},{name:"Education"},{name:"E-Commerce"},{name:"Other"}],this.count=0,this.addedFiles=[],this.expertValue={expertId:"",username:"",firstName:"",lastName:"",avatarUrl:"",email:"",specialization:[]},this.attachment={fileName:"",extension:"",content:"",fileType:""},this.newProposalValue={proposalId:"",expertId:"",innovationId:"",proposalTitle:"",proposalDescription:"",expertName:"",statusOfProposal:"",domain:"",rating:0,dateOfCreation:new Date,coverImage:{fileName:"",extension:"",content:"",fileType:""},attachment:[],privateComments:[]},this.innovation={},this.tempFileArray=[]}get docFiles(){return this.newProposal.get("docFiles")}addFile(){this.docFiles.push(this.fb.control(""))}ngOnInit(){this.expertValue=this.cookie.login(),this.innovationId=this.activatedRoute.snapshot.paramMap.get("innovationId"),this.proposalId=this.activatedRoute.snapshot.paramMap.get("proposalId"),this.proposalId?this.apiService.getProposalById(this.proposalId).subscribe(o=>{this.wait=!0,this.newProposalValue=o,this.newProposal.controls.proposalTitle.setValue(this.newProposalValue.proposalTitle),this.newProposal.controls.proposalDescription.setValue(this.newProposalValue.proposalDescription),this.addedFiles=this.newProposalValue.attachment,this.tempFileArray=[...this.newProposalValue.attachment],this.server.getInnovationById(this.newProposalValue.innovationId).subscribe(a=>{this.innovation=a})}):this.server.getInnovationById(this.innovationId).subscribe(o=>{this.wait=!0,this.innovation=o})}viewdoc(e){this.str=e;const o=atob(this.str.substring(this.str.indexOf(",")+1)),n=new Blob([o],{type:"application/octet-stream"});this.fileUrl=this.sanitizer.bypassSecurityTrustResourceUrl(window.URL.createObjectURL(n))}onChange(e){this.imageFile=e.target.files[0];let o=new FileReader;o.readAsDataURL(this.imageFile),o.onload=()=>{this.image=o.result,this.newProposalValue.coverImage.fileName=this.imageFile.name.split(".")[0],this.newProposalValue.coverImage.extension=this.imageFile.name.split(".")[1],this.newProposalValue.coverImage.content=this.image,this.newProposalValue.coverImage.fileType=""}}removeCoverImage(){this.newProposalValue.coverImage.fileName="",this.newProposalValue.coverImage.fileType="",this.newProposalValue.coverImage.extension="",this.newProposalValue.coverImage.content=""}onChanges(e){this.docFile=e.target.files[0];let o=new FileReader;o.readAsDataURL(this.docFile),o.onload=()=>{this.attachment.content=o.result,this.attachment.fileName=this.newProposal.controls.fileTitle.value?this.newProposal.controls.fileTitle.value:this.docFile.name.split(".")[0],this.attachment.extension=this.docFile.name.split(".")[1],this.attachment.fileType=this.newProposal.controls.fileTitle.value}}backToInnovations(){this.router.navigateByUrl("experts/find")}reset(){this.tempFileArray.push(Object.assign({},this.attachment)),this.docFile=null,this.newProposal.controls.docFiles.reset()}remove(e){this.tempFileArray.splice(e,1)}onSubmit(){this.cookie.isInnovatorLoggedIn=!0,this.newProposalValue.proposalTitle=this.newProposal.controls.proposalTitle.value,this.newProposalValue.expertId=this.expertValue.expertId,this.newProposalValue.innovationId=this.innovation.innovationId,this.newProposalValue.expertName=this.expertValue.firstName+" "+this.expertValue.lastName,this.newProposalValue.proposalDescription=this.newProposal.controls.proposalDescription.value,this.newProposalValue.domain=this.innovation.domain,this.newProposalValue.statusOfProposal="pending",this.newProposalValue.attachment=this.tempFileArray,this.apiService.postProposal(this.newProposalValue).subscribe(e=>{this.router.navigateByUrl("experts"),this._snackBar.open("Saved Successfully","",{duration:2e3})})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(q.F),t.Y36(T.N),t.Y36(E.ux),t.Y36(u.F0),t.Y36(A.s),t.Y36(u.gz),t.Y36(y.H7))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-proposal-form"]],decls:54,vars:8,consts:[[4,"ngIf"],["style","float: left;width: 30%;margin-left: 10%;margin-top: 4%;box-shadow: 5px 10px 18px gray;padding: 2%;",4,"ngIf"],[2,"float","right","width","37%","margin-right","11%","margin-top","4%","box-shadow","5px 10px 18px gray"],[2,"background-color","rgb(163, 163, 163)","height","50px","width","100%"],[2,"margin-left","20px","padding-top","10px"],["novalidate","",2,"width","100%","overflow-x","hidden",3,"formGroup","ngSubmit"],[1,"newInnovation-card"],[1,"row"],[1,"col"],[2,"width","80%","margin-left","30px"],["matInput","","placeholder","Proposal Title","formControlName","proposalTitle"],["rows","4","matInput","","placeholder","Description","formControlName","proposalDescription"],[2,"margin-top","20px","margin-bottom","15px","margin-left","30px"],["for","",2,"font-weight","500"],["type","file","formControlName","coverImage",2,"margin-left","17%",3,"change"],["inputFile",""],["aria-label","Fruit selection"],["chipLists",""],["style","margin-left: 5%;",3,"removed",4,"ngIf"],["fxLayout","row wrap"],["for","doc",2,"margin-left","5%","font-weight","500"],[2,"display","flex","margin-left","5%"],[2,"width","40%"],["matInput","","placeholder","Artifacts","formControlName","fileTitle"],["mat-button","","type","file","formControlName","docFiles",2,"float","right","margin-top","-8%",3,"change"],["mat-button","","type","button",2,"float","right","margin-right","25%",3,"click"],["chipList",""],["style","margin-left: 10%;",3,"removed",4,"ngFor","ngForOf"],["type","button","mat-raised-button","",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[2,"float","left","width","30%","margin-left","10%","margin-top","4%","box-shadow","5px 10px 18px gray","padding","2%"],[2,"background-color","rgb(163, 163, 163)","height","50px","width","114%","margin-top","-6.5%","margin-left","-7%"],[2,"color","black","text-align","center","font-weight","700","font-family","Verdana, Geneva, Tahoma, sans-serif"],["onerror","this.src='assets/default.png'","alt","cover img",2,"margin-left","33%","width","150px","height","150px","border-radius","50%",3,"src"],[2,"font-weight","700","margin-left","170px"],[2,"font-weight","400","color","black"],[2,"margin-top","-15px","color","black","margin-right","20px"],["aria-label","doc selection",2,"float","left","margin-left","0%"],["style","background-color: white;border: 1px rgb(25, 71, 31) solid;",4,"ngFor","ngForOf"],[2,"background-color","white","border","1px rgb(25, 71, 31) solid"],[2,"margin-right","1%"],["mat-button","",2,"margin-right","10%",3,"click"],[2,"text-decoration","none","color","black",3,"href","download"],[2,"vertical-align","middle","padding-right","-15px"],[2,"margin-left","5%",3,"removed"],["matChipRemove",""],[2,"margin-left","10%",3,"removed"]],template:function(e,o){1&e&&(t.YNc(0,ut,1,0,"mat-spinner",0),t.YNc(1,_t,22,5,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"h1",4),t._uU(5,"Proposal Form"),t.qZA(),t.qZA(),t.TgZ(6,"form",5),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(7,"mat-card",6),t.TgZ(8,"mat-card-header"),t._UZ(9,"mat-card-title"),t.qZA(),t.TgZ(10,"mat-card-content"),t.TgZ(11,"div",7),t.TgZ(12,"div",8),t.TgZ(13,"mat-form-field",9),t._UZ(14,"input",10),t.YNc(15,Zt,4,0,"mat-error",0),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"div",7),t.TgZ(17,"div",8),t.TgZ(18,"mat-form-field",9),t._UZ(19,"textarea",11),t.YNc(20,xt,4,0,"mat-error",0),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"div",12),t.TgZ(22,"label",13),t._uU(23,"Cover Image :"),t.qZA(),t.TgZ(24,"input",14,15),t.NdJ("change",function(a){return o.onChange(a)}),t.qZA(),t.qZA(),t.TgZ(26,"div",8),t.TgZ(27,"mat-chip-list",16,17),t.YNc(29,vt,7,1,"mat-chip",18),t.qZA(),t.qZA(),t._UZ(30,"br"),t.TgZ(31,"div",19),t.TgZ(32,"label",20),t._uU(33,"Proposal Document"),t.qZA(),t.TgZ(34,"div",21),t.TgZ(35,"mat-form-field",22),t._UZ(36,"input",23),t.qZA(),t.qZA(),t.TgZ(37,"div"),t.TgZ(38,"input",24,15),t.NdJ("change",function(a){return o.onChanges(a)}),t.qZA(),t.TgZ(40,"button",25),t.NdJ("click",function(){return o.reset()}),t._uU(41,"+ Add file"),t.TgZ(42,"mat-icon"),t._uU(43,"attach_file"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(44,"mat-chip-list",16,26),t.YNc(46,bt,7,1,"mat-chip",27),t.qZA(),t.qZA(),t._UZ(47,"br"),t._UZ(48,"br"),t.TgZ(49,"mat-card-actions"),t.TgZ(50,"button",28),t.NdJ("click",function(){return o.backToInnovations()}),t._uU(51,"CANCEL"),t.qZA(),t.TgZ(52,"button",29),t._uU(53,"Submit"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.Q6J("ngIf",!o.wait),t.xp6(1),t.Q6J("ngIf",o.wait),t.xp6(5),t.Q6J("formGroup",o.newProposal),t.xp6(9),t.Q6J("ngIf",o.newProposal.controls.proposalTitle.hasError("required")),t.xp6(5),t.Q6J("ngIf",o.newProposal.controls.proposalDescription.hasError("required")),t.xp6(9),t.Q6J("ngIf",o.newProposalValue.coverImage.content),t.xp6(17),t.Q6J("ngForOf",o.tempFileArray),t.xp6(6),t.Q6J("disabled",o.newProposal.invalid))},directives:[m.O5,s._Y,s.JL,s.sg,c.a8,c.dk,c.n5,c.dn,d.KE,C.Nt,s.Fj,s.JJ,s.u,g.qn,Z.lW,x.Hw,m.sg,c.hq,I.$g,g.HS,d.TO,g.qH],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.newInnovation-card[_ngcontent-%COMP%]{min-width:120px;margin:20px auto;width:100%}.mat-radio-button[_ngcontent-%COMP%]{display:block;margin:5px 0}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.col[_ngcontent-%COMP%]{flex:1;margin-right:20px}.col[_ngcontent-%COMP%]:last-child{margin-right:0}.mat-chip[_ngcontent-%COMP%]{background-color:#78c278}mat-card-actions[_ngcontent-%COMP%]{justify-content:flex-end;display:flex;margin-right:10%}"]}),i})(),Ct=(()=>{class i{constructor(e,o,n){this.api=e,this.data=o,this.dialogComp=n,this.proposalData={}}ngOnInit(){this.api.getProposalById(this.data.proposalId).subscribe(o=>{this.proposalData=o})}delete(e){this.api.deleteProposalById(e).subscribe(n=>{this.proposalToBeDeleted=n,this.dialogComp.close(e)})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(A.s),t.Y36(_.WI),t.Y36(_.so))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-confirm-delete"]],decls:15,vars:1,consts:[[2,"width","500px","padding","0"],["mat-dialog-close","",2,"float","right","color","gray"],[2,"border","1px solid red","width","100px","margin-left","38%","height","100px","border-radius","50%"],[2,"font-size","100px","color","red"],[2,"margin-left","180px","font-weight","700","color","gray"],[2,"margin-left","50px"],["mat-button","",2,"float","left","width","50%","background","red","margin-left","-10px","margin-bottom","-185px","color","white",3,"click"],["mat-dialog-close","","mat-button","",2,"float","right","width","50%","background-color","green","margin-right","-10px"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-icon",1),t._uU(2,"cancel"),t.qZA(),t.TgZ(3,"div",2),t.TgZ(4,"mat-icon",3),t._uU(5,"delete_forever"),t.qZA(),t.qZA(),t.TgZ(6,"h2",4),t._uU(7,"Are you Sure?"),t.qZA(),t.TgZ(8,"h2",5),t._uU(9),t.qZA(),t.TgZ(10,"mat-card-actions"),t.TgZ(11,"button",6),t.NdJ("click",function(){return o.delete(o.proposalData.proposalId)}),t._uU(12,"Yes"),t.qZA(),t.TgZ(13,"button",7),t._uU(14,"No"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(9),t.hij('The proposal "',o.proposalData.proposalTitle,'" will be deleted permanently'))},directives:[x.Hw,_.ZT,c.hq,Z.lW],styles:[""]}),i})();function At(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){return t.CHM(e),t.oxw().clearFilters()}),t._uU(1,"Clear Filters"),t.qZA()}}function qt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"button",10),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().statusFilter(a.name)}),t._uU(2),t.qZA(),t.qZA()}if(2&i){const e=r.$implicit;t.xp6(2),t.Oqu(e.name)}}function wt(i,r){1&i&&t._UZ(0,"mat-spinner",21)}function Pt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",25),t.TgZ(1,"mat-card",26),t.TgZ(2,"mat-card-content"),t.TgZ(3,"div",27),t._UZ(4,"img",28),t.TgZ(5,"h2",29),t._uU(6),t.qZA(),t.TgZ(7,"div",30),t.TgZ(8,"span",31),t.TgZ(9,"b"),t._uU(10),t.qZA(),t.qZA(),t._UZ(11,"br"),t.TgZ(12,"span"),t._uU(13),t.ALo(14,"dateAgoExpert"),t.qZA(),t._UZ(15,"br"),t.TgZ(16,"span"),t._uU(17),t.qZA(),t._UZ(18,"br"),t.TgZ(19,"p"),t._uU(20),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"mat-card-actions"),t.TgZ(22,"button",20),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(2).delete(a.proposalId)}),t.TgZ(23,"mat-icon"),t._uU(24,"delete"),t.qZA(),t.qZA(),t.TgZ(25,"button",32),t.TgZ(26,"mat-icon",33),t._uU(27,"edit"),t.qZA(),t.qZA(),t.TgZ(28,"button",34),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(2).viewProposalById(a.proposalId)}),t.TgZ(29,"mat-icon"),t._uU(30,"visibility"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=r.$implicit;t.xp6(4),t.s9C("src",e.coverImage.content,t.LSH),t.xp6(2),t.Oqu(e.proposalTitle),t.xp6(4),t.Oqu(e.domain),t.xp6(3),t.hij(" Updated ",t.lcZ(14,7,e.dateOfCreation),""),t.xp6(4),t.hij(" ",e.attachment.length," files uploaded"),t.xp6(3),t.hij(" ",e.proposalDescription," "),t.xp6(5),t.MGl("routerLink","edit/",e.proposalId,"")}}function Ut(i,r){if(1&i&&(t.TgZ(0,"div",22),t.TgZ(1,"div",23),t.YNc(2,Pt,31,9,"div",24),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.proposals)}}function It(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",35),t.TgZ(1,"button",36),t.NdJ("click",function(){return t.CHM(e),t.oxw().addMore()}),t._uU(2,"Show more"),t.TgZ(3,"mat-icon"),t._uU(4,"expand_more"),t.qZA(),t.qZA(),t.qZA()}}function Ot(i,r){1&i&&t._UZ(0,"div",37)}let yt=(()=>{class i{constructor(e,o,n,a,l,h,f,b){this.breakpointObserver=e,this.cookies=o,this.router=n,this.serverService=a,this.modalService=l,this.apiService=h,this.dialog=f,this.location=b,this.domains=["health","technology","environment","society"],this.searchFlag=!1,this.search_text="",this.page=0,this.size=6,this.totalPages=0,this.setRecentFilter=!0,this.allStatus=[{name:"pending"},{name:"accepted"}],this.proposalsByDomain=[],this.filterApplied=!1,this.proposals=[]}selectDomain(e){this.filterApplied=!0,this.apiService.getProposalsByDomain(e).subscribe(n=>{this.wait=!0,this.proposalsByDomain=n})}ngOnInit(){this.wait=!1,this.cookieValue=this.cookies.login(),this.proposals=[],this.apiService.getProposalsByFilter("",this.page,this.size,!0).subscribe(e=>{this.wait=!0,this.proposals=e.allProposals,this.totalPages=e.totalpages,this.results=e.totalProposals})}viewProposal(e){this.cookieValue=this.cookies.login()}viewProposalById(e){this.dialog.open(J,{data:{proposalId:e}})}delete(e){this.dialog.open(Ct,{data:{proposalId:e}}).afterClosed().subscribe(n=>{console.log("Proposal Id: "+n);const l=JSON.parse(JSON.stringify(this.proposals)).filter(h=>h.proposalId!==n);this.proposals=l})}editProposal(e){this.apiService.setProposalId(e)}search(){0==this.search_text.length?this.apiService.getProposalsByFilter("",this.page,this.size,!0).subscribe(e=>{this.wait=!0,this.proposals=[],this.proposals=e.allProposals,this.totalPages=e.totalpages}):this.apiService.getProposalsBySearch(this.search_text).subscribe(e=>{this.wait=!0,this.proposals=[],this.proposals=e})}addMore(){this.page=this.page+1,this.apiService.getProposalsByFilter("",this.page,this.size,!0).subscribe(e=>{this.wait=!0;for(let o of e.allProposals)this.proposals.push(Object.assign({},o))})}recentFilter(){this.setRecentFilter=!1,this.proposals=[],this.page=0,this.apiService.getProposalsByFilter("",this.page,this.size,!1).subscribe(e=>{this.wait=!0,this.proposals=e.allProposals,this.totalPages=e.totalpages})}statusFilter(e){console.log(e),this.proposals=[],this.page=0,this.setRecentFilter=!0,this.apiService.getProposalsByFilter(e,this.page,this.size,!0).subscribe(o=>{this.wait=!0,this.proposals=o.allProposals,this.totalPages=o.totalpages})}clearFilters(){this.proposals=[],this.setRecentFilter=!0,this.page=0,this.ngOnInit()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(O.Yg),t.Y36(q.F),t.Y36(u.F0),t.Y36(T.N),t.Y36(V.FF),t.Y36(A.s),t.Y36(_.uw),t.Y36(m.Ye))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-proposal-list"]],decls:33,vars:11,consts:[[2,"font-weight","700","float","left","margin-left","20%","margin-top","25px"],[1,"searchbar"],["appearance","outline",1,"searchbar"],["matInput","",3,"ngModel","ngModelChange"],["matSuffix",""],["mat-button","",3,"matMenuTriggerFor"],["aria-hidden","false","aria-label","Example home icon"],["mat-button","",3,"click",4,"ngIf"],["filter","matMenu"],["mat-menu-item","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],["status","matMenu"],[4,"ngFor","ngForOf"],[2,"width","67%","float","left","margin-left","15%","height","3px","background-color","rgb(253, 49, 151)","border","none","margin-top","0"],["fxLayout","row-wrap",2,"float","right","margin-right","20%"],["style","margin-left: 50%;",4,"ngIf"],["id","main",4,"ngIf"],[1,"pagination"],["id","add-more",4,"ngIf"],["id","folks",4,"ngIf"],["mat-button","",3,"click"],[2,"margin-left","50%"],["id","main"],["fxLayout","row wrap","fxLayoutGap","16px grid"],["fxFlex","25%","fxFlex.xs","100%","fxFlex.sm","50%","fxFlex.lg","33%",4,"ngFor","ngForOf"],["fxFlex","25%","fxFlex.xs","100%","fxFlex.sm","50%","fxFlex.lg","33%"],[1,"example-card","background","primary",2,"height","9cm"],["id","image"],["mat-card-image","","mat-card-image","","onerror","this.src='assets/default.png'","alt","Innovation cover photo",3,"src"],["id","innovationName"],[1,"metadata",2,"margin-top","50px","position","absolute"],[2,"color","rgb(3, 3, 3)","padding-top","10px"],[2,"border","none","margin-left","15px",3,"routerLink"],[2,"color","black"],["mat-button","",2,"margin-left","15px",3,"click"],["id","add-more"],["mat-stroked-button","","color","primary",3,"click"],["id","folks"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h1",0),t._uU(2,"Proposals"),t.qZA(),t.TgZ(3,"div",1),t.TgZ(4,"mat-form-field",2),t.TgZ(5,"mat-label"),t._uU(6,"Search"),t.qZA(),t.TgZ(7,"input",3),t.NdJ("ngModelChange",function(a){return o.search_text=a})("ngModelChange",function(){return o.search()}),t.qZA(),t.TgZ(8,"mat-icon",4),t._uU(9,"search"),t.qZA(),t.qZA(),t.TgZ(10,"button",5),t.TgZ(11,"mat-icon",6),t._uU(12,"filter_list"),t.qZA(),t.qZA(),t.YNc(13,At,2,0,"button",7),t.TgZ(14,"mat-menu",null,8),t.TgZ(16,"button",9),t._uU(17,"Status"),t.qZA(),t.TgZ(18,"button",10),t.NdJ("click",function(){return o.recentFilter()}),t._uU(19,"Oldest first"),t.qZA(),t.qZA(),t.TgZ(20,"mat-menu",null,11),t.YNc(22,qt,3,1,"div",12),t.qZA(),t.qZA(),t._UZ(23,"hr",13),t.TgZ(24,"h3",14),t._uU(25),t.qZA(),t._UZ(26,"br"),t._UZ(27,"br"),t.YNc(28,wt,1,0,"mat-spinner",15),t.YNc(29,Ut,3,1,"div",16),t.TgZ(30,"div",17),t.YNc(31,It,5,0,"div",18),t.YNc(32,Ot,1,0,"div",19),t.qZA(),t.qZA()),2&e){const n=t.MAs(15),a=t.MAs(21);t.xp6(7),t.Q6J("ngModel",o.search_text),t.xp6(3),t.Q6J("matMenuTriggerFor",n),t.xp6(3),t.Q6J("ngIf",!o.setRecentFilter),t.xp6(3),t.Q6J("matMenuTriggerFor",a),t.xp6(6),t.Q6J("ngForOf",o.allStatus),t.xp6(3),t.AsE("Displaying ",o.proposals.length," results out of ",o.results,""),t.xp6(3),t.Q6J("ngIf",!o.wait),t.xp6(1),t.Q6J("ngIf",o.wait),t.xp6(2),t.Q6J("ngIf",o.page<o.totalPages-1),t.xp6(1),t.Q6J("ngIf",o.page==o.totalPages-1)}},directives:[d.KE,d.hX,C.Nt,s.Fj,s.JJ,s.On,x.Hw,d.R9,Z.lW,v.p6,m.O5,v.VK,v.OP,m.sg,I.$g,c.a8,c.dn,c.G2,c.hq,u.rH],pipes:[U],styles:[".example-card[_ngcontent-%COMP%]{width:300px;float:left;margin-left:1%;margin-right:;margin-bottom:2%}.mat-card[_ngcontent-%COMP%]{background-color:#fff;box-shadow:5px 10px 18px gray}#main[_ngcontent-%COMP%]{margin-right:15%;margin-left:15%;margin-top:.5cm;display:flex}#main[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]{width:200px}#main[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1}p[_ngcontent-%COMP%]{overflow:hidden;width:7cm;max-height:805px;text-overflow:ellipsis;-webkit-line-clamp:4;-webkit-box-orient:vertical;line-height:21px;display:-webkit-box;margin-top:25px}.mat-card[_ngcontent-%COMP%]{background-color:primary-container;justify-content:space-between;flex-direction:column;height:100vh;display:flex}.mat-card-actions[_ngcontent-%COMP%]{justify-content:flex-end;display:flex}.mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:0;background-color:#fff;color:#000}#image[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#72716e}.searchbar[_ngcontent-%COMP%]{margin-top:5px;margin-left:5%}.searchbar[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:40%;margin-top:1px}#innovationName[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:1;-webkit-box-orient:vertical;display:-webkit-box;position:absolute;margin-right:5px}.pagination[_ngcontent-%COMP%]   #add-more[_ngcontent-%COMP%]{margin-left:46%;margin-top:3%;margin-bottom:5%}.pagination[_ngcontent-%COMP%]   #folks[_ngcontent-%COMP%]{margin-left:44%;margin-top:3%;margin-bottom:5%}#domain[_ngcontent-%COMP%]{-webkit-line-clamp:1;overflow:hidden;text-overflow:ellipsis;width:3cm;color:#00f}#image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{float:right;width:130px;margin-right:0;border-radius:10px;margin-top:40px;height:90px}.metadata[_ngcontent-%COMP%]{width:3.5cm}  .mat-tooltip{font-size:12px}"]}),i})();function Ft(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-chip",24),t.TgZ(1,"mat-icon",25),t._uU(2,"file_present"),t.qZA(),t._uU(3),t.TgZ(4,"button",26),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().viewdoc(a.content)}),t.TgZ(5,"a",27),t.TgZ(6,"mat-icon",28),t._uU(7,"download"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=r.$implicit,o=t.oxw();t.xp6(3),t.hij("",e.fileName," "),t.xp6(2),t.hYB("download","",e.fileName,".",e.extension,""),t.Q6J("href",o.fileUrl,t.LSH)}}function kt(i,r){if(1&i&&(t.TgZ(0,"div",29),t.TgZ(1,"span",30),t._uU(2),t.ALo(3,"dateAgoExpert"),t.qZA(),t.TgZ(4,"h3",31),t._uU(5),t.qZA(),t.TgZ(6,"p",32),t._uU(7),t.qZA(),t._UZ(8,"mat-divider"),t.qZA()),2&i){const e=r.$implicit;t.xp6(2),t.Oqu(t.lcZ(3,3,e.dateOfComment)),t.xp6(3),t.Oqu(e.commentator_name),t.xp6(2),t.Oqu(e.comment_data)}}let Mt=(()=>{class i{constructor(e,o,n){this.server=e,this.sanitizer=o,this.cookies=n,this.search_text="",this.innovation={},this.allComments=[],this.attachmentsArray=[],this.detailsEnabled=!0,this.commentObj={commentator_name:null,comment_data:null,dateOfComment:null},this.comment="",this.date=new Date}ngOnInit(){this.allComments=this.innovation.comments,this.innovationIdFromService=this.server.getInnovationId(),this.server.getInnovationById(this.innovationIdFromService).subscribe(o=>{this.innovation=o}),this.attachmentsArray=this.innovation.supportingDoc,this.cookieValue=this.cookies.login()}viewdoc(e){this.str=e;const o=atob(this.str.substring(this.str.indexOf(",")+1)),n=new Blob([o],{type:"application/octet-stream"});this.fileUrl=this.sanitizer.bypassSecurityTrustResourceUrl(window.URL.createObjectURL(n))}enableDetails(){this.detailsEnabled=!this.detailsEnabled}addComment(e){this.commentObj.comment_data=this.comment,this.commentObj.dateOfComment=this.date,this.commentObj.commentator_name=this.cookieValue.firstName+" "+this.cookieValue.lastName;const o=[...this.innovation.comments];o.push(Object.assign({},this.commentObj)),this.innovation.comments=[...o],this.server.updateInnovation(this.innovation).subscribe(a=>{}),this.comment=""}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(T.N),t.Y36(y.H7),t.Y36(q.F))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-innovation-details"]],decls:51,vars:14,consts:[[2,"width","520px"],["animationDuration","0ms",2,"margin-top","-20px"],["label","Details"],[2,"width","500px","overflow-y","hidden !important"],["onerror","this.src='assets/default.png'","alt","innovation image",2,"height","90px","width","90px","border-radius","50%","margin-top","20px","margin-left","2px",3,"src"],[2,"margin-left","px"],[2,"float","right","margin-right","150px","margin-top","-120px","font-weight","700"],[2,"margin-top","-10px"],["matTooltip","status",2,"background-color","cornflowerblue","margin-left","0px"],[2,"width","300px","float","right","justify-content","right","margin-right","5px","margin-top","-170px"],[2,"float","right","margin-right","150px","margin-top","-50px"],["aria-label","doc selection",2,"float","left","margin-left","0%"],["chipList",""],["style","background-color: white;border: 1px rgb(25, 71, 31) solid;",4,"ngFor","ngForOf"],["label","Comments"],["alt","avatar",2,"border-radius","50%","height","50px","margin-top","20px","margin-left","20px",3,"src"],[1,"example-form"],[2,"float","left","margin-top","-50px","margin-left","85px","width","80%"],["matInput","","name","comment","placeholder","Add a Comment...",3,"ngModel","ngModelChange"],["mat-icon-button","",2,"float","left","margin-top","-57px","margin-left","100%",3,"click"],[2,"width","100%"],["itemSize","72",1,"container"],["style","background-color: rgb(253, 253, 209);","class","number",4,"cdkVirtualFor","cdkVirtualForOf"],["mat-raised-button","","mat-dialog-close","","color","accent",2,"float","right","margin-right","5%"],[2,"background-color","white","border","1px rgb(25, 71, 31) solid"],[2,"margin-right","1%"],["mat-button","",2,"margin-right","10%",3,"click"],[2,"text-decoration","none","color","black",3,"href","download"],[2,"vertical-align","middle","padding-right","-15px"],[1,"number",2,"background-color","rgb(253, 253, 209)"],[2,"float","right","margin-right","215px","margin-top","5px"],[2,"margin-left","20px","font-weight","600"],[2,"margin-left","20px","font-weight","400","margin-top","-15px"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-tab-group",1),t.TgZ(2,"mat-tab",2),t.TgZ(3,"div",3),t._UZ(4,"img",4),t.TgZ(5,"p",5),t._uU(6),t.qZA(),t.TgZ(7,"h2",6),t._uU(8),t.qZA(),t.TgZ(9,"div",7),t.TgZ(10,"span",5),t._uU(11),t.ALo(12,"dateAgoExpert"),t.qZA(),t._UZ(13,"br"),t.TgZ(14,"span",5),t._uU(15),t.qZA(),t._UZ(16,"br"),t.TgZ(17,"span",5),t._uU(18),t.qZA(),t._UZ(19,"br"),t.qZA(),t.TgZ(20,"div"),t.TgZ(21,"mat-chip",8),t._uU(22),t.qZA(),t.qZA(),t.TgZ(23,"p",9),t._uU(24),t.qZA(),t._UZ(25,"hr"),t._UZ(26,"br"),t._UZ(27,"br"),t._UZ(28,"hr"),t.TgZ(29,"h2",10),t._uU(30,"Documents uploaded"),t.qZA(),t._UZ(31,"br"),t.TgZ(32,"mat-chip-list",11,12),t.YNc(34,Ft,8,4,"mat-chip",13),t.qZA(),t._UZ(35,"br"),t.qZA(),t.qZA(),t.TgZ(36,"mat-tab",14),t.TgZ(37,"div"),t._UZ(38,"img",15),t.TgZ(39,"form",16),t.TgZ(40,"mat-form-field",17),t.TgZ(41,"input",18),t.NdJ("ngModelChange",function(a){return o.comment=a}),t.qZA(),t.qZA(),t.TgZ(42,"button",19),t.NdJ("click",function(a){return o.addComment(a)}),t.TgZ(43,"mat-icon"),t._uU(44,"send"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(45,"br"),t.TgZ(46,"div",20),t.TgZ(47,"cdk-virtual-scroll-viewport",21),t.YNc(48,kt,9,5,"div",22),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(49,"button",23),t._uU(50,"CLOSE"),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.s9C("src",o.innovation.coverPhoto.content,t.LSH),t.xp6(2),t.hij("Innovator : ",o.innovation.name,""),t.xp6(2),t.hij(" ",o.innovation.innovationName,""),t.xp6(3),t.hij(" Updated ",t.lcZ(12,12,o.innovation.dateOfCreation),""),t.xp6(4),t.hij("",o.innovation.comments.length-1," comments"),t.xp6(3),t.hij(" ",o.innovation.uploadedFiles.length," files uploaded"),t.xp6(4),t.Oqu(o.innovation.status),t.xp6(2),t.hij(" ",o.innovation.innovationDesc,""),t.xp6(10),t.Q6J("ngForOf",o.innovation.uploadedFiles),t.xp6(4),t.s9C("src",o.cookieValue.avatarUrl,t.LSH),t.xp6(3),t.Q6J("ngModel",o.comment),t.xp6(7),t.Q6J("cdkVirtualForOf",o.innovation.comments.reverse()))},directives:[P.SP,P.uX,g.HS,F.gM,g.qn,m.sg,s._Y,s.JL,s.F,d.KE,C.Nt,s.Fj,s.JJ,s.On,Z.lW,x.Hw,w.N7,w.xd,w.x0,_.ZT,N.d],pipes:[U],styles:[".green[_ngcontent-%COMP%]{background-color:#d8bfd8}.red[_ngcontent-%COMP%]{background-color:#fdeffd}.blue[_ngcontent-%COMP%]{background-color:#d8bfd8}.orange[_ngcontent-%COMP%]{background-color:#fdeffd}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:400px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{height:236px}.number[_ngcontent-%COMP%]{height:72px}"]}),i})();function Nt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"button",7),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().statusFilter(a.name)}),t._uU(2),t.qZA(),t.qZA()}if(2&i){const e=r.$implicit;t.xp6(2),t.Oqu(e.name)}}function Et(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-chip-list",20),t.TgZ(1,"mat-chip",21,22),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().displayInnovationsOfThisSpecialization(a)}),t._uU(3),t.qZA(),t.qZA()}if(2&i){const e=r.$implicit;t.xp6(1),t.Q6J("selectable",!0),t.xp6(2),t.Oqu(e)}}function Dt(i,r){1&i&&t._UZ(0,"mat-spinner",23)}function St(i,r){if(1&i&&t._UZ(0,"img",39),2&i){const e=t.oxw().$implicit;t.s9C("src",e.coverPhoto.content,t.LSH)}}function Jt(i,r){1&i&&t._UZ(0,"img",40)}function Bt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",27),t.TgZ(1,"mat-card",28),t.TgZ(2,"mat-card-content"),t.TgZ(3,"div",29),t.YNc(4,St,1,1,"img",30),t.YNc(5,Jt,1,0,"img",31),t.TgZ(6,"h2",32),t._uU(7),t.qZA(),t.TgZ(8,"div",33),t.TgZ(9,"span",34),t.TgZ(10,"b"),t._uU(11),t.qZA(),t.qZA(),t._UZ(12,"br"),t.TgZ(13,"span"),t._uU(14),t.ALo(15,"dateAgoExpert"),t.qZA(),t._UZ(16,"br"),t.TgZ(17,"span"),t._uU(18),t.qZA(),t._UZ(19,"br"),t.TgZ(20,"span"),t._uU(21),t.qZA(),t._UZ(22,"br"),t.qZA(),t.TgZ(23,"div",35),t.TgZ(24,"p"),t._uU(25),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(26,"mat-card-actions"),t.TgZ(27,"button",36),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(2).openInnovation(a.innovationId)}),t.TgZ(28,"mat-icon"),t._uU(29,"visibility"),t.qZA(),t.qZA(),t.TgZ(30,"button",37),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(2).openForm(a.innovationId)}),t.TgZ(31,"mat-icon",38),t._uU(32,"library_add"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=r.$implicit;t.xp6(4),t.Q6J("ngIf",e.coverPhoto.content),t.xp6(1),t.Q6J("ngIf",!e.coverPhoto.content),t.xp6(2),t.Oqu(e.innovationName),t.xp6(4),t.Oqu(e.domain),t.xp6(3),t.hij(" Updated ",t.lcZ(15,8,e.dateOfCreation),""),t.xp6(4),t.hij("",e.comments.length," comments"),t.xp6(3),t.hij(" ",e.uploadedFiles.length," files uploaded"),t.xp6(4),t.hij(" ",e.innovationDesc," ")}}function Vt(i,r){if(1&i&&(t.TgZ(0,"div",24),t.TgZ(1,"div",25),t.YNc(2,Bt,33,10,"div",26),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.innovations)}}function Yt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",41),t.TgZ(1,"button",42),t.NdJ("click",function(){return t.CHM(e),t.oxw().addMore()}),t._uU(2,"Show more"),t.TgZ(3,"mat-icon"),t._uU(4,"expand_more"),t.qZA(),t.qZA(),t.qZA()}}function jt(i,r){1&i&&t._UZ(0,"div",43)}function Lt(i,r){1&i&&(t.TgZ(0,"div",43),t.TgZ(1,"h2"),t._uU(2,"No Innovation found"),t.qZA(),t.qZA())}function zt(i,r){1&i&&t._UZ(0,"mat-spinner",2)}function Qt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-chip",33),t.TgZ(1,"mat-icon"),t._uU(2,"file_present"),t.qZA(),t._uU(3),t.TgZ(4,"button",34),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(2).viewdoc(a.content)}),t.TgZ(5,"a",35),t.TgZ(6,"mat-icon",36),t._uU(7,"download"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=r.$implicit,o=t.oxw(2);t.xp6(3),t.hij(" ",e.fileName," "),t.xp6(2),t.hYB("download","",e.fileName,".",e.extension,""),t.Q6J("href",o.fileUrl,t.LSH)}}function Rt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",3),t.TgZ(1,"div",4),t.TgZ(2,"div",5),t.TgZ(3,"div",6),t.TgZ(4,"h1",7),t._uU(5,"Innovation Details"),t.qZA(),t.qZA(),t.TgZ(6,"h1",8),t._uU(7),t.qZA(),t._UZ(8,"img",9),t._UZ(9,"br"),t.TgZ(10,"span",10),t._uU(11),t.qZA(),t._UZ(12,"br"),t._UZ(13,"br"),t.TgZ(14,"h1",11),t._uU(15," Description"),t.qZA(),t.TgZ(16,"p",12),t._uU(17),t.qZA(),t.TgZ(18,"h1",11),t._uU(19," Documents uploaded"),t.qZA(),t.TgZ(20,"mat-chip-list",13,14),t.YNc(22,Qt,8,4,"mat-chip",15),t.qZA(),t._UZ(23,"br"),t.qZA(),t.qZA(),t.TgZ(24,"div",16),t.TgZ(25,"div"),t.TgZ(26,"div",17),t.TgZ(27,"h1",18),t._uU(28,"Edit Proposal"),t.qZA(),t.qZA(),t._UZ(29,"br"),t.TgZ(30,"mat-form-field",19),t.TgZ(31,"mat-label",20),t._uU(32,"Proposal Title"),t.qZA(),t.TgZ(33,"input",21),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().proposalObj.proposalTitle=n}),t.qZA(),t.qZA(),t.TgZ(34,"mat-form-field",22),t.TgZ(35,"mat-label",20),t._uU(36,"Proposal Description"),t.qZA(),t.TgZ(37,"textarea",23),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().proposalObj.proposalDescription=n}),t.qZA(),t.qZA(),t.TgZ(38,"div"),t.TgZ(39,"label",24),t._uU(40,"Proposal Image"),t.qZA(),t._UZ(41,"br"),t._UZ(42,"img",25),t._UZ(43,"br"),t.TgZ(44,"label",26),t._uU(45,"Change Proposal Image"),t.qZA(),t._UZ(46,"br"),t.TgZ(47,"input",27),t.NdJ("change",function(n){return t.CHM(e),t.oxw().onChange(n,"image")}),t.qZA(),t.qZA(),t.TgZ(48,"div"),t.TgZ(49,"label",24),t._uU(50,"Proposal Document"),t.qZA(),t._UZ(51,"br"),t._UZ(52,"br"),t.TgZ(53,"label",28),t._uU(54,"Add Proposal Document"),t.qZA(),t.TgZ(55,"input",29),t.NdJ("change",function(n){return t.CHM(e),t.oxw().onChangeDoc(n,"document")}),t.qZA(),t.qZA(),t._UZ(56,"br"),t._UZ(57,"br"),t.TgZ(58,"button",30),t.NdJ("click",function(){return t.CHM(e),t.oxw().delete()}),t._uU(59,"DELETE"),t.qZA(),t.TgZ(60,"button",31),t.NdJ("click",function(){return t.CHM(e),t.oxw().dashboard()}),t._uU(61,"CANCEL"),t.qZA(),t.TgZ(62,"button",32),t.NdJ("click",function(){return t.CHM(e),t.oxw().update()}),t._uU(63,"SAVE"),t.qZA(),t._UZ(64,"br"),t._UZ(65,"br"),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(7),t.hij(" ",e.innovation.innovationName,""),t.xp6(1),t.s9C("src",e.innovation.coverPhoto.content,t.LSH),t.xp6(3),t.hij("Innovator: ",e.innovation.name,""),t.xp6(6),t.Oqu(e.innovation.innovationDesc),t.xp6(5),t.Q6J("ngForOf",e.innovation.uploadedFiles),t.xp6(11),t.s9C("value",e.proposalObj.proposalTitle),t.Q6J("ngModel",e.proposalObj.proposalTitle),t.xp6(4),t.s9C("value",e.proposalObj.proposalDescription),t.Q6J("ngModel",e.proposalObj.proposalDescription),t.xp6(5),t.s9C("src",e.proposalObj.coverImage.content,t.LSH)}}const $t=[{path:"",component:tt,children:[{path:"",component:yt},{path:"profile",component:ht},{path:"form/:innovationId",component:Tt},{path:"find",component:(()=>{class i{constructor(e,o,n,a,l){this.serverService=e,this.apiService=o,this.dialog=n,this.cookies=a,this.router=l,this.allDomainsChip=!0,this.search_text="",this.chipColor="pink",this.page=0,this.size=6,this.setRecentFilter=!0,this.statuss=[{name:"active"},{name:"complete"}],this.innovations=[],this.domains=["health","technology","environment","society"]}ngOnInit(){this.wait=!1,this.cookieValue=this.cookies.login(),this.serverService.getExpert(this.cookieValue.expertId).subscribe(e=>{this.expert=e,this.specializaion=e.specialization,this.specializaion.forEach(o=>{"Any"==o?this.serverService.allInnovations(this.page,this.size,!0).subscribe(n=>{this.wait=!0,this.innovations=n.allInnovations,this.totalPages=n.totalpages,this.innovationsCount=n.resultsCount}):this.serverService.filterInnovationsForExpertsView("",this.page,this.size,!0,this.specializaion).subscribe(n=>{this.wait=!0,this.innovations=n.innovations,this.totalPages=n.totalpages,this.innovationsCount=n.count})})})}openForm(e){this.router.navigateByUrl("experts/form/"+e)}displayInnovationsOfThisSpecialization(e){if(this.chipColor="blue",this.selected=!0,this.selectedDomain=e,this.chipSelected=!0,"Any"==e)this.anySelected=!0,this.innovations=[],this.serverService.allInnovations(0,this.size,!0).subscribe(o=>{this.wait=!0,this.innovations=o.allInnovations,this.totalPages=o.totalpages,this.innovationsCount=o.resultsCount});else{const o=[];o.push(e),this.serverService.filterInnovationsForExpertsView("",0,this.size,!0,o).subscribe(n=>{this.wait=!0,this.innovations=n.innovations,this.totalPages=n.totalpages,this.innovationsCount=n.count})}}displayAllInnovations(){window.location.reload()}sendInnovationId(e){this.router.navigateByUrl("experts/form"),this.apiService.setInnovationId(e)}openInnovation(e){this.serverService.setInnovationId(e),this.dialog.open(Mt)}addMore(){this.specializaion.forEach(e=>{"Any"==e||this.anySelected?(this.page=this.page+1,this.serverService.allInnovations(this.page,this.size,!0).subscribe(o=>{this.wait=!0;for(let n of o.allInnovations)this.innovations.push(Object.assign({},n))})):(this.page=this.page+1,this.serverService.filterInnovationsForExpertsView("",this.page,this.size,!0,this.specializaion).subscribe(o=>{this.wait=!0;for(let n of o.innovations)this.innovations.push(Object.assign({},n))}))})}recentFilter(){this.setRecentFilter=!1,this.innovations=[],this.page=0,this.serverService.filterInnovationsForExpertsView("",this.page,this.size,!1,this.specializaion).subscribe(e=>{this.wait=!0,this.innovations=e.innovations,this.totalPages=e.totalpages})}statusFilter(e){if(this.chipSelected){const o=[];o.push(this.selectedDomain),this.serverService.filterInnovationsForExpertsView(e,0,this.size,!0,o).subscribe(n=>{this.wait=!0,console.log("domain has length"),this.innovations=n.innovations,this.totalPages=n.totalpages,this.innovationsCount=n.count})}else this.serverService.filterInnovationsForExpertsView(e,this.page,this.size,!0,[]).subscribe(o=>{this.wait=!0,this.innovations=o.innovations,console.log("innovations based on status: ",this.innovations),this.totalPages=o.totalpages})}clearFilters(){this.innovations=[],this.setRecentFilter=!0,this.page=0,this.ngOnInit()}search(){if(0==this.search_text.length)if(this.anySelected)this.innovations=[],this.serverService.allInnovations(0,this.size,!0).subscribe(e=>{this.wait=!0,this.innovations=e.allInnovations,this.totalPages=e.totalpages});else if(this.selected){this.innovations=[];const e=[];e.push(this.selectedDomain),console.log("selected domain: "+this.selectedDomain),this.serverService.filterInnovationsForExpertsView("",0,this.size,!0,e).subscribe(o=>{this.wait=!0,this.innovations=o.innovations,this.totalPages=o.totalpages})}else this.innovations=[],this.serverService.filterInnovationsForExpertsView("",0,this.size,!0,this.specializaion).subscribe(e=>{this.wait=!0,this.innovations=e.innovations,this.totalPages=e.totalpages});else this.serverService.getInnovationsBySearch(this.search_text).subscribe(e=>{this.wait=!0,this.innovations=[],this.innovations=e})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(T.N),t.Y36(A.s),t.Y36(_.uw),t.Y36(q.F),t.Y36(u.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-find-innovations"]],decls:34,vars:11,consts:[[2,"margin-left","20%","margin-top","15px","float","left","font-weight","500"],[1,"searchbar"],["appearance","outline",1,"searchbar"],["matInput","",3,"ngModel","ngModelChange"],["matSuffix",""],["filter","matMenu"],["mat-menu-item","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],["mat-button","",3,"click"],["domain","matMenu"],[4,"ngFor","ngForOf"],[2,"width","67%","float","left","margin-left","15%","height","3px","background-color","rgb(253, 49, 151)","border","none","margin-top","0"],[2,"margin-left","17%","margin-top","1%"],["fxLayout","row-wrap","style","float: left;margin-left: 2%;",4,"ngFor","ngForOf"],["fxLayout","row-wrap",2,"float","right","margin-right","20%"],["style","margin-left: 50%",4,"ngIf"],["id","main",4,"ngIf"],[1,"pagination"],["id","add-more",4,"ngIf"],["id","folks",4,"ngIf"],["fxLayout","row-wrap",2,"float","left","margin-left","2%"],[2,"background-color","rgb(247, 214, 255)",3,"selectable","click"],["chip","matChip"],[2,"margin-left","50%"],["id","main"],["fxLayout","row wrap","fxLayoutGap","16px grid"],["fxFlex","25%","fxFlex.xs","100%","fxFlex.sm","50%","fxFlex.lg","33%",4,"ngFor","ngForOf"],["fxFlex","25%","fxFlex.xs","100%","fxFlex.sm","50%","fxFlex.lg","33%"],[1,"example-card","background","primary",2,"height","9cm"],["id","image"],["mat-card-image","","mat-card-image","","alt","Innovation cover photo",3,"src",4,"ngIf"],["style","float: right;width: 130px;margin-right: 0px ;border-radius: 10px;margin-top: 45px;height: 90px;","mat-card-image","","mat-card-image","","src","assets/default_image.jpg","alt","Innovation cover photo",4,"ngIf"],["id","innovationName"],[1,"metadata",2,"margin-top","50px","position","absolute"],[2,"color","rgb(3, 3, 3)","padding-top","10px"],[2,"margin-top","140px","position","absolute"],["matTooltip","innovation details","mat-button","","id","delete",2,"margin-right","55%",3,"click"],["matTooltip","send proposal","mat-button","",3,"click"],[2,"color","black","float","right"],["mat-card-image","","mat-card-image","","alt","Innovation cover photo",3,"src"],["mat-card-image","","mat-card-image","","src","assets/default_image.jpg","alt","Innovation cover photo",2,"float","right","width","130px","margin-right","0px","border-radius","10px","margin-top","45px","height","90px"],["id","add-more"],["mat-stroked-button","","color","primary",3,"click"],["id","folks"]],template:function(e,o){if(1&e&&(t.TgZ(0,"h2",0),t._uU(1,"My Innovations"),t.qZA(),t.TgZ(2,"div",1),t.TgZ(3,"mat-form-field",2),t.TgZ(4,"mat-label"),t._uU(5,"Search"),t.qZA(),t.TgZ(6,"input",3),t.NdJ("ngModelChange",function(a){return o.search_text=a})("ngModelChange",function(){return o.search()}),t.qZA(),t.TgZ(7,"mat-icon",4),t._uU(8,"search"),t.qZA(),t.qZA(),t.TgZ(9,"mat-menu",null,5),t.TgZ(11,"button",6),t._uU(12,"Domain"),t.qZA(),t.TgZ(13,"button",7),t.NdJ("click",function(){return o.recentFilter()}),t._uU(14,"Recent"),t.qZA(),t.qZA(),t.TgZ(15,"button",8),t.NdJ("click",function(){return o.displayAllInnovations()}),t.TgZ(16,"mat-icon"),t._uU(17,"refresh"),t.qZA(),t.qZA(),t.TgZ(18,"mat-menu",null,9),t.YNc(20,Nt,3,1,"div",10),t.qZA(),t.qZA(),t._UZ(21,"hr",11),t.TgZ(22,"div",12),t.YNc(23,Et,4,2,"mat-chip-list",13),t.qZA(),t.TgZ(24,"h3",14),t._uU(25),t.qZA(),t._UZ(26,"br"),t._UZ(27,"br"),t.YNc(28,Dt,1,0,"mat-spinner",15),t.YNc(29,Vt,3,1,"div",16),t.TgZ(30,"div",17),t.YNc(31,Yt,5,0,"div",18),t.YNc(32,jt,1,0,"div",19),t.YNc(33,Lt,3,0,"div",19),t.qZA()),2&e){const n=t.MAs(19);t.xp6(6),t.Q6J("ngModel",o.search_text),t.xp6(5),t.Q6J("matMenuTriggerFor",n),t.xp6(9),t.Q6J("ngForOf",o.statuss),t.xp6(3),t.Q6J("ngForOf",o.specializaion),t.xp6(2),t.AsE("Displaying ",o.innovations.length," results out of ",o.innovationsCount,""),t.xp6(3),t.Q6J("ngIf",!o.wait),t.xp6(1),t.Q6J("ngIf",o.wait),t.xp6(2),t.Q6J("ngIf",o.page<o.totalPages-1&&o.innovations.length>0),t.xp6(1),t.Q6J("ngIf",o.page==o.totalPages-1),t.xp6(1),t.Q6J("ngIf",0==o.innovations.length&&o.page<o.totalPages-1)}},directives:[d.KE,d.hX,C.Nt,s.Fj,s.JJ,s.On,x.Hw,d.R9,v.VK,v.OP,v.p6,Z.lW,m.sg,m.O5,g.qn,g.HS,I.$g,c.a8,c.dn,c.hq,F.gM,c.G2],pipes:[U],styles:[".example-card[_ngcontent-%COMP%]{width:300px;float:left;margin-left:1%;margin-right:;margin-bottom:2%}.mat-card[_ngcontent-%COMP%]{background-color:#fff;box-shadow:5px 10px 18px gray}#main[_ngcontent-%COMP%]{margin-right:15%;margin-left:15%;margin-top:.5cm;display:flex}#main[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]{width:200px}#main[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1}p[_ngcontent-%COMP%]{overflow:hidden;width:7cm;max-height:805px;text-overflow:ellipsis;-webkit-line-clamp:4;-webkit-box-orient:vertical;line-height:21px;display:-webkit-box;margin-top:25px}.mat-card[_ngcontent-%COMP%]{background-color:primary-container;justify-content:space-between;flex-direction:column;height:100vh;display:flex}.mat-card-actions[_ngcontent-%COMP%]{justify-content:flex-end;display:flex}.mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:0;background-color:#fff;color:#000}#image[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#72716e}.searchbar[_ngcontent-%COMP%]{margin-top:5px;margin-left:5%}.searchbar[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:40%;margin-top:1px}#innovationName[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:1;-webkit-box-orient:vertical;display:-webkit-box;position:absolute;margin-right:5px}.pagination[_ngcontent-%COMP%]   #add-more[_ngcontent-%COMP%]{margin-left:46%;margin-top:3%;margin-bottom:5%}.pagination[_ngcontent-%COMP%]   #folks[_ngcontent-%COMP%]{margin-left:44%;margin-top:3%;margin-bottom:5%}#domain[_ngcontent-%COMP%]{-webkit-line-clamp:1;overflow:hidden;text-overflow:ellipsis;width:3cm;color:#00f}#image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{float:right;width:130px;margin-right:0;border-radius:10px;margin-top:40px;height:90px}.metadata[_ngcontent-%COMP%]{width:3.5cm}  .mat-tooltip{font-size:12px}"]}),i})()},{path:"edit/:proposalId",component:(()=>{class i{constructor(e,o,n,a,l){this.apiService=e,this.sanitizer=o,this.activatedRoute=n,this.router=a,this.server=l,this.proposalId=this.apiService.getProposalId(),this.proposalObj={proposalId:"",expertId:"",innovationId:"",proposalTitle:"",proposalDescription:"",expertName:"",statusOfProposal:"",domain:"",rating:0,dateOfCreation:new Date,coverImage:{fileName:"",extension:"",content:"",fileType:""},attachment:[],privateComments:[]},this.innovation={},this.a={fileName:"",extension:"",content:"",fileType:""},this.b={fileName:"",extension:"",content:"",fileType:""}}ngOnInit(){this.id=this.activatedRoute.snapshot.paramMap.get("proposalId"),this.apiService.getProposalById(this.id).subscribe(o=>{this.wait=!0,this.proposalObj=o,this.server.getInnovationById(o.innovationId).subscribe(a=>{this.wait=!0,this.innovation=a})})}viewdoc(e){this.str=e;const o=atob(this.str.substring(this.str.indexOf(",")+1)),n=new Blob([o],{type:"application/octet-stream"});this.fileUrl=this.sanitizer.bypassSecurityTrustResourceUrl(window.URL.createObjectURL(n))}dashboard(){this.router.navigateByUrl("/experts")}update(){this.apiService.updateProposal(this.proposalObj).subscribe(e=>{this.router.navigateByUrl("experts")})}delete(){this.apiService.deleteProposalById(this.proposalObj.proposalId).subscribe(o=>{this.proposalToBeDeleted=o}),window.location.reload()}onChange(e,o){this.a.fileType=o;let n=e.target.files[0];this.a.fileName=n.name.split(".")[0],this.a.extension=n.name.split(".")[1];let a=new FileReader;a.readAsDataURL(n),a.onload=()=>{this.contentData=a.result,this.a.content=this.contentData,this.proposalObj.coverImage=this.a}}onChangeDoc(e,o){this.b.fileType=o;let n=e.target.files[0];this.b.fileName=n.name.split(".")[0],this.b.extension=n.name.split(".")[1];let a=new FileReader;a.readAsDataURL(n),a.onload=()=>{this.contentData=a.result,this.b.content=this.contentData,this.proposalObj.attachment.push(this.b)}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(A.s),t.Y36(y.H7),t.Y36(u.gz),t.Y36(u.F0),t.Y36(T.N))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-edit-proposal"]],decls:2,vars:2,consts:[["style","margin-top: 20%;margin-left: 50%;",4,"ngIf"],["style","width: 100%;",4,"ngIf"],[2,"margin-top","20%","margin-left","50%"],[2,"width","100%"],[2,"float","left","width","40%"],[2,"width","81%","margin-left","12%","background-color","rgb(243, 243, 243)","box-shadow","5px 10px 18px gray","padding","25px","margin-top","20px"],[2,"background-color","rgb(163, 163, 163)","height","50px","width","110%","margin-top","-25px","margin-left","-24px"],[2,"margin-left","20px","padding-top","10px"],[2,"color","black","text-align","center","font-weight","700","font-family","Verdana, Geneva, Tahoma, sans-serif"],["onerror","this.src='assets/default.png'","alt","cover img",2,"margin-left","33%","width","150px","height","150px","border-radius","50%",3,"src"],[2,"font-weight","700","margin-left","170px"],[2,"font-weight","400","color","black"],[2,"margin-top","-15px","color","black","margin-right","20px"],["aria-label","doc selection",2,"float","left","margin-left","0%"],["chipList",""],["style","background-color: white;border: 1px rgb(25, 71, 31) solid;",4,"ngFor","ngForOf"],[2,"float","right","width","48%","background-color","rgb(255, 255, 255)","padding-left","0.9%","padding-top","42px","margin-right","5%","margin-left","5%","margin-top","20px","box-shadow","5px 10px 18px gray"],[2,"background-color","rgb(163, 163, 163)","height","50px","width","102%","margin-top","-42px","margin-left","-13px"],[2,"margin-left","85px","padding-top","10px"],[2,"margin-left","75px","width","500px"],[2,"color","black"],["matInput","",3,"value","ngModel","ngModelChange"],[2,"margin-left","75px","width","500px","font-size","1.3em"],["rows","3","matInput","",3,"value","ngModel","ngModelChange"],[2,"margin-left","10%","font-size","medium","font-weight","700"],["onerror","this.src='assets/default.png'","alt","proposal image",2,"width","300px","height","180px","margin-left","10%","border-radius","2%",3,"src"],[2,"float","right","margin-top","-20%","margin-right","15%","font-size","medium","font-weight","500"],["type","file",2,"float","right","margin-top","-20%","margin-right","3.5%",3,"change"],[2,"font-size","medium","font-weight","500","margin-left","10%"],["type","file",2,"margin-left","5%",3,"change"],["mat-raised-button","",2,"margin-left","50%","box-shadow","5px 10px 18px gray",3,"click"],["mat-raised-button","",2,"margin-left","2%","box-shadow","5px 10px 18px gray",3,"click"],["mat-raised-button","","color","primary",2,"position","relative","margin-left","2%","box-shadow","5px 10px 18px gray",3,"click"],[2,"background-color","white","border","1px rgb(25, 71, 31) solid"],["mat-button","",2,"padding","5px","min-width","0",3,"click"],[2,"text-decoration","none","color","black",3,"href","download"],[2,"vertical-align","middle","margin","0"]],template:function(e,o){1&e&&(t.YNc(0,zt,1,0,"mat-spinner",0),t.YNc(1,Rt,66,10,"div",1)),2&e&&(t.Q6J("ngIf",!o.wait),t.xp6(1),t.Q6J("ngIf",o.wait))},directives:[m.O5,I.$g,g.qn,m.sg,d.KE,d.hX,C.Nt,s.Fj,s.JJ,s.On,Z.lW,g.HS,x.Hw],styles:["mat-label[_ngcontent-%COMP%]{font-weight:600}"]}),i})()}]}];let Xt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[u.Bz.forChild($t)],u.Bz]}),i})();var Kt=p(9814),Gt=p(3954);let Wt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[m.ez,Xt,O.xu,Y.g0,Z.ot,k.SJ,x.Ps,M.ie,s.u5,d.lN,C.c,s.UX,_.Is,F.AV,g.Hi,H.LD,s.UX,E.ZX,c.QW,w.Cl,v.Tx,P.Nh,N.t,Gt.N6,Kt.Fk,j.g,I.Cq]]}),i})()}}]);